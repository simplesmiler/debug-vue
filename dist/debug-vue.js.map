{"version":3,"file":"debug-vue.js","sources":["../src/mixin.js","../src/debug-hook.js","../src/debug-watch.js","../src/index.js"],"sourcesContent":["export default {\n\n  props: {\n    name: { type: String },\n    value: {},\n    noClone: { type: Boolean, default: false },\n    noLog: { type: Boolean, default: false },\n    noBreak: { type: Boolean, default: false },\n  },\n\n  render: function() {\n    return null;\n  },\n\n  methods: {\n    _logname: function(componentName) {\n      return this.name ? '<' + componentName + ' name=\"' + this.name + '\">' : '<' + componentName + '>';\n    },\n    _prepareValue: function(value) {\n      if (this.noClone) return value;\n\n      try {\n        var clone = JSON.parse(JSON.stringify(value));\n        return clone;\n      }\n      catch (err) {\n        return value;\n      }\n    },\n  },\n\n};\n","import mixin from './mixin';\n\nexport default {\n\n  props: {\n    on: { type: [String, Array], default: 'mounted' },\n    parent: { type: Boolean, default: false },\n  },\n\n  mixins: [mixin],\n\n  computed: {\n    realOn: function() {\n      return Array.isArray(this.on) ? this.on : [this.on];\n    },\n    realTarget: function() {\n      return this.parent ? this.$parent : this;\n    },\n  },\n\n  created: function() {\n    this.handles = {};\n\n    for (var i = 0; i < this.realOn.length; i++) {\n      var hook = this.realOn[i];\n      var handle = this.handles[hook] = this._makeHandle(hook);\n      this.realTarget.$on('hook:' + hook, handle);\n    }\n  },\n\n  destroyed: function() {\n    for (var i = 0; i < this.realOn.length; i++) {\n      var hook = this.realOn[i];\n      var handle = this.handles[hook];\n      this.realTarget.$off('hook:' + hook, handle);\n    }\n  },\n\n  methods: {\n    _makeHandle: function(hook) {\n      return function() {\n        this.handle(this.$el, this._logname('debug-hook'), hook, this._prepareValue(this.value));\n      }.bind(this);\n    },\n    handle: function(el, logname, hook, value) {\n      if (!this.noLog) console.log(logname, hook, value);\n      if (!this.noBreak) debugger;\n    },\n  },\n\n};\n","import mixin from './mixin';\n\nexport default {\n\n  props: {\n    immediate: { type: Boolean, default: false },\n    deep: { type: Boolean, default: false },\n  },\n\n  mixins: [mixin],\n\n  created: function() {\n    this.$watch('value', this._handle, { immediate: this.immediate, deep: this.deep });\n  },\n\n  methods: {\n    _handle: function(value, oldValue) {\n      this.handle(this.$el, this._logname('debug-watch'), this._prepareValue(value), this._prepareValue(oldValue));\n    },\n    handle: function(el, logname, value, oldValue) {\n      if (!this.noLog) console.log(logname, oldValue, '->', value);\n      if (!this.noBreak) debugger;\n    },\n  },\n\n};\n","import DebugHook from './debug-hook';\nimport DebugWatch from './debug-watch';\n\nfunction install(Vue) {\n  Vue.component('debug-hook', DebugHook);\n  Vue.component('debug-watch', DebugWatch);\n}\n\n// Install by default if using the script tag\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use({ install: install });\n}\n\nexport default {\n  install: install,\n  DebugWatch: DebugWatch,\n  DebugHook: DebugHook,\n};\n"],"names":["type","String","Boolean","default","componentName","name","value","noClone","clone","JSON","parse","stringify","err","Array","mixin","isArray","on","parent","$parent","handles","i","realOn","length","hook","handle","_makeHandle","realTarget","$on","$off","$el","_logname","_prepareValue","bind","el","logname","noLog","console","log","noBreak","$watch","_handle","immediate","deep","oldValue","install","Vue","component","DebugHook","DebugWatch","window","use"],"mappings":";;;;;;;;;;;;;AAAA,YAAe;;SAEN;UACC,EAAEA,MAAMC,MAAR,EADD;WAEE,EAFF;aAGI,EAAED,MAAME,OAAR,EAAiBC,SAAS,KAA1B,EAHJ;WAIE,EAAEH,MAAME,OAAR,EAAiBC,SAAS,KAA1B,EAJF;aAKI,EAAEH,MAAME,OAAR,EAAiBC,SAAS,KAA1B;GAPE;;UAUL,YAAW;WACV,IAAP;GAXW;;WAcJ;cACG,UAASC,aAAT,EAAwB;aACzB,KAAKC,IAAL,GAAY,MAAMD,aAAN,GAAsB,SAAtB,GAAkC,KAAKC,IAAvC,GAA8C,IAA1D,GAAiE,MAAMD,aAAN,GAAsB,GAA9F;KAFK;mBAIQ,UAASE,KAAT,EAAgB;UACzB,KAAKC,OAAT,EAAkB,OAAOD,KAAP;;UAEd;YACEE,QAAQC,KAAKC,KAAL,CAAWD,KAAKE,SAAL,CAAeL,KAAf,CAAX,CAAZ;eACOE,KAAP;OAFF,CAIA,OAAOI,GAAP,EAAY;eACHN,KAAP;;;;;CA1BR;;ACEA,gBAAe;;SAEN;QACD,EAAEN,MAAM,CAACC,MAAD,EAASY,KAAT,CAAR,EAAyBV,SAAS,SAAlC,EADC;YAEG,EAAEH,MAAME,OAAR,EAAiBC,SAAS,KAA1B;GAJG;;UAOL,CAACW,KAAD,CAPK;;YASH;YACA,YAAW;aACVD,MAAME,OAAN,CAAc,KAAKC,EAAnB,IAAyB,KAAKA,EAA9B,GAAmC,CAAC,KAAKA,EAAN,CAA1C;KAFM;gBAII,YAAW;aACd,KAAKC,MAAL,GAAc,KAAKC,OAAnB,GAA6B,IAApC;;GAdS;;WAkBJ,YAAW;SACbC,OAAL,GAAe,EAAf;;SAEK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKC,MAAL,CAAYC,MAAhC,EAAwCF,GAAxC,EAA6C;UACvCG,OAAO,KAAKF,MAAL,CAAYD,CAAZ,CAAX;UACII,SAAS,KAAKL,OAAL,CAAaI,IAAb,IAAqB,KAAKE,WAAL,CAAiBF,IAAjB,CAAlC;WACKG,UAAL,CAAgBC,GAAhB,CAAoB,UAAUJ,IAA9B,EAAoCC,MAApC;;GAxBS;;aA4BF,YAAW;SACf,IAAIJ,IAAI,CAAb,EAAgBA,IAAI,KAAKC,MAAL,CAAYC,MAAhC,EAAwCF,GAAxC,EAA6C;UACvCG,OAAO,KAAKF,MAAL,CAAYD,CAAZ,CAAX;UACII,SAAS,KAAKL,OAAL,CAAaI,IAAb,CAAb;WACKG,UAAL,CAAgBE,IAAhB,CAAqB,UAAUL,IAA/B,EAAqCC,MAArC;;GAhCS;;WAoCJ;iBACM,UAASD,IAAT,EAAe;aACnB,YAAW;aACXC,MAAL,CAAY,KAAKK,GAAjB,EAAsB,KAAKC,QAAL,CAAc,YAAd,CAAtB,EAAmDP,IAAnD,EAAyD,KAAKQ,aAAL,CAAmB,KAAKzB,KAAxB,CAAzD;OADK,CAEL0B,IAFK,CAEA,IAFA,CAAP;KAFK;YAMC,UAASC,EAAT,EAAaC,OAAb,EAAsBX,IAAtB,EAA4BjB,KAA5B,EAAmC;UACrC,CAAC,KAAK6B,KAAV,EAAiBC,QAAQC,GAAR,CAAYH,OAAZ,EAAqBX,IAArB,EAA2BjB,KAA3B;UACb,CAAC,KAAKgC,OAAV,EAAmB;;;;CA5CzB;;ACAA,iBAAe;;SAEN;eACM,EAAEtC,MAAME,OAAR,EAAiBC,SAAS,KAA1B,EADN;UAEC,EAAEH,MAAME,OAAR,EAAiBC,SAAS,KAA1B;GAJK;;UAOL,CAACW,KAAD,CAPK;;WASJ,YAAW;SACbyB,MAAL,CAAY,OAAZ,EAAqB,KAAKC,OAA1B,EAAmC,EAAEC,WAAW,KAAKA,SAAlB,EAA6BC,MAAM,KAAKA,IAAxC,EAAnC;GAVW;;WAaJ;aACE,UAASpC,KAAT,EAAgBqC,QAAhB,EAA0B;WAC5BnB,MAAL,CAAY,KAAKK,GAAjB,EAAsB,KAAKC,QAAL,CAAc,aAAd,CAAtB,EAAoD,KAAKC,aAAL,CAAmBzB,KAAnB,CAApD,EAA+E,KAAKyB,aAAL,CAAmBY,QAAnB,CAA/E;KAFK;YAIC,UAASV,EAAT,EAAaC,OAAb,EAAsB5B,KAAtB,EAA6BqC,QAA7B,EAAuC;UACzC,CAAC,KAAKR,KAAV,EAAiBC,QAAQC,GAAR,CAAYH,OAAZ,EAAqBS,QAArB,EAA+B,IAA/B,EAAqCrC,KAArC;UACb,CAAC,KAAKgC,OAAV,EAAmB;;;;CAnBzB;;ACCA,SAASM,OAAT,CAAiBC,GAAjB,EAAsB;MAChBC,SAAJ,CAAc,YAAd,EAA4BC,SAA5B;MACID,SAAJ,CAAc,aAAd,EAA6BE,UAA7B;;;;AAIF,IAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,OAAOJ,GAA5C,EAAiD;SACxCA,GAAP,CAAWK,GAAX,CAAe,EAAEN,SAASA,OAAX,EAAf;;;AAGF,YAAe;WACJA,OADI;cAEDI,UAFC;aAGFD;CAHb;;;;;;;;"}